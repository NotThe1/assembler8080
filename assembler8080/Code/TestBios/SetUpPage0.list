0001: 0000                ; SetUpPage0.asm    
0002: 0000                WarmBootEntry		EQU			0F603H		; BIOS entry
0003: 0000                BDOSEntry			EQU			0E806H     	; BDOS entry
0004: 0000                DefaultDiskBuffer	EQU			00080H
0005: 0000                DefaultDisk			EQU			00H			; disk A:
0006: 0000                SETDMA				EQU			0FB65H
0007: 0000                                    
0008: 0000                		ORG		01000H       
0009: 1000                                    
0010: 1000                EnterCPM:           
0011: 1000     3EC3       	MVI		A,0C3H				; JMP op code
0012: 1002     320000     	STA		0000H				; set up the jump in location 0000H
0013: 1005     320500     	STA		0005H				; and at location 0005H
0014: 1008                	                   
0015: 1008     2103F6     	LXI		H,WarmBootEntry		; get BIOS vector address
0016: 100B     220100     	SHLD	0001H				; put address in location 1
0017: 100E                	                   
0018: 100E     2106E8     	LXI		H,BDOSEntry			; Get BDOS entry point address
0019: 1011     220600     	SHLD	0006H				; put address at location 5
0020: 1014                	                   
0021: 1014     018000     	LXI		B,DefaultDiskBuffer	; set disk I/O address to default
0022: 1017     CD65FB     	CALL	SETDMA				; use normal BIOS routine		****************************************************************
0023: 101A                	                   
0024: 101A     FB         	EI                 
0025: 101B     3A0000     	LDA		DefaultDisk		; Transfer current default disk to
0026: 101E     4F         	MOV		C,A				; Console Command Processor
0027: 101F     C9         	RET						; transfer to Caller




                                    Xref


0000	0000	$                             		

0003	E806	BDOSENTRY                     		  0018,

0005	0000	DEFAULTDISK                   		  0025,
0004	0080	DEFAULTDISKBUFFER             		  0021,

0010	1000	ENTERCPM                      		

0006	FB65	SETDMA                        		  0022,

0002	F603	WARMBOOTENTRY                 		  0015,
