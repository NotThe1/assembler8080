0001: 0000                ; BiosReadTest.asm  
0002: 0000                ;                   
0003: 0000                SELDSK				EQU		0FB2BH
0004: 0000                SETTRK				EQU		0FB58H
0005: 0000                SETSEC				EQU		0FB5EH
0006: 0000                SETDMA				EQU		0FB65H
0007: 0000                Read				EQU		0FBFBH 
0008: 0000                                    
0009: 0000                DefaultDiskBuffer	EQU		080H
0010: 0000                TopOfStack			EQU		DefaultDiskBuffer
0011: 0000                Disk				EQU		00H			; A=0, B=1, C=2, D=3
0012: 0000                Track				EQU		00H   
0013: 0000                Sector				EQU		02H  
0014: 0000                                    
0015: 0000                TPA					EQU		0100H  
0016: 0000                                    
0017: 0000                			ORG			TPA        
0018: 0100                Start:              
0019: 0100     318000     			LXI		SP,TopOfStack				; set the stack
0020: 0103     0E00       			MVI		C,Disk      
0021: 0105     CD2BFB     			CALL	SELDSK      
0022: 0108     010000     			LXI		B,Track     
0023: 010B     CD58FB     			CALL	SETTRK      
0024: 010E     0E02       			MVI		C,Sector    
0025: 0110     CD5EFB     			CALL	SETSEC      
0026: 0113     018000     			LXI		B,DefaultDiskBuffer
0027: 0116     CD65FB     			CALL	SETDMA      
0028: 0119                			                 
0029: 0119     76         			HLT              
0030: 011A     CDFBFB     			CALL	READ        
0031: 011D     76         			HLT              
0032: 011E                			                 
0033: 011E                Part2:              
0034: 011E     0E03       			MVI		C,Sector + 1
0035: 0120     CD5EFB     			CALL	SETSEC      
0036: 0123     018000     			LXI		B,DefaultDiskBuffer
0037: 0126     CD65FB     			CALL	SETDMA      
0038: 0129                			                 
0039: 0129     76         			HLT              
0040: 012A     CDFBFB     			CALL	READ        
0041: 012D     76         			HLT              
0042: 012E                			                 




                                    Xref


0000	0000	$                             		

0009	0080	DEFAULTDISKBUFFER             		  0010,  0026,  0036,
0011	0000	DISK                          		  0020,

0033	011E	PART2                         		

0007	FBFB	READ                          		  0030,  0040,

0013	0002	SECTOR                        		  0024,  0034,
0003	FB2B	SELDSK                        		  0021,
0006	FB65	SETDMA                        		  0027,  0037,
0005	FB5E	SETSEC                        		  0025,  0035,
0004	FB58	SETTRK                        		  0023,
0018	0100	START                         		

0010	0080	TOPOFSTACK                    		  0019,
0015	0100	TPA                           		  0017,
0012	0000	TRACK                         		  0022,
